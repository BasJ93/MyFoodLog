@namespace MyFoodLog.Web.Components

<div class="mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone">
    <div class="mdc-layout-grid__inner">
        <div class="mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-2-phone">
            <h5 class="mdc-typography--headline5">@Meal?.Name</h5>
        </div>
        <div class="mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone">
            <h5 class="mdc-typography--headline5">(@Meal?.Energy.ToString("0.##") kCal)</h5>
        </div>
        <div class="mdc-layout-grid__cell--span-0-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-1-phone">
            <h5 class="mdc-typography--headline5">(@Meal?.Energy.ToString("0.##"))</h5>
        </div>
        <div class="mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-1-tablet mdc-layout-grid__cell--span-1-phone" style="text-align: center;">
            <MBIconButton Icon="add" @onclick="@(async () => await AddFoodItem())" style="margin: 32px 0;"/>
        </div>
    </div>
</div>

<div class="mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-phone">
    <MBDataTable Context="item"
                 Items="Meal?.ConsumedFood"
                 GetKeysFunc="@((item) => item.Id)">

        <TableHeader>
            <th class="mdc-data-table__header-cell header-bold" role="columnheader" scope="col">Item</th>
            <th class="mdc-data-table__header-cell header-bold" role="columnheader" scope="col">Amount</th>
            <th class="mdc-data-table__header-cell header-bold" role="columnheader" scope="col">Energy [kCal]</th>
            <th class="mdc-data-table__header-cell header-bold" role="columnheader" scope="col"></th>
        </TableHeader>

        <TableRow>
            <th class="mdc-data-table__cell" scope="row">@item.Name</th>
            <td class="mdc-data-table__cell">@item.Amount @item.QuantityUnit</td>
            <td class="mdc-data-table__cell">@item.Energy.ToString("0.##")</td>
            <td class="mdc-data-table__cell">
                <MBIconButton Icon="Delete" @onclick="@(async () => await DeleteConsumption(@item.Id))"/>
            </td>
        </TableRow>

    </MBDataTable>
</div>