@page "/"
@inherits MyFoodLog.Web.ViewModels.EnterFoodConsumptionViewModel

@using MyFoodLog.Web.Components
<h3>Enter Food Consumption</h3>

<div class="mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-4-phone">

    <MBTextField TextInputStyle="MBTextInputStyle.Outlined" @bind-Value="@SearchInput"/>
    <MBIconButton Icon="qr_code_scanner"/><MBButton ButtonStyle="@MBButtonStyle.ContainedRaised" Label="Search" @onclick="@(async () => await Search())"/>

    <div hidden="@HideResultSet">
        <p>
            <MBList Items="@FoodItems"
                    Context="foodItem"
                    ListStyle="MBListStyle.Outlined"
                    ListType="MBListType.Regular"
                    KeyboardInteractions="true"
                    OnClick="@FoodItemClicked">

                <Title>@foodItem.Name</Title>
                <LineTwo>Energy: @foodItem.Energy.ToString("0.####") kcal/@foodItem.QuantityUnit</LineTwo>
                <!--<SecondaryActions>
                    <MBButton Label="Add" @onclick="@(async () => await FoodItemClicked(foodItem.Id))"></MBButton>
                </SecondaryActions>-->
            </MBList>
        </p>
    </div>
</div>

<MBDialog @ref="CreateFoodItemDialog"
          Title="Add new item">
    <Body>
    <AddFoodItemComponent />
    </Body>
</MBDialog>

<MBDialog @ref="AddFoodConsumptionDialog"
          Title="Add consumption">
    <Body>
    <AddFoodConsumptionComponent />
    </Body>
</MBDialog>